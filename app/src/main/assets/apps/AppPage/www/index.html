<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	<title>发货选择</title>
	<script src="js/mui.min.js"></script>
	<link href="css/mui.min.css" rel="stylesheet" />
	<link rel="stylesheet" href="css/mui.picker.all.css" />
	<link rel="stylesheet" href="css/mui.picker.css" />
	<script type="text/javascript" charset="utf-8">
		mui.init();
	</script>
</head>
<style>
	body {
		font-family: "微软雅黑";
		background-color: #fff;
		margin: 0;
		padding: 0;
	}
	
	.mui-header-nav h1 {
		color: #fff;
	}
	
	a {
		color: #333333;
	}
	
	.mui-fanhui {
		padding-top: 11px;
		color: #fff;
	}
	
	.mui-header-nav {
		background-color: #389FE4;
	}
	
	.search_list {
		padding: 0;
	}
	
	.mui_main ul li {
		list-style: none;
	}
	
	.mui_main {
		margin-top: 20%;
		padding-left: 15px;
		padding-right: 15px;
	}
	
	.search_height {
		padding: 20px 0 20px 0;
	}
	
	.Btn_top_one {
		width: 65%;
		height: 40px;
		display: block;
		font-size: 16px;
		float: right;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
	
	.search_height {
		margin-top: 3%;
		height: 60px;
	}
	
	.Customer_address {
		width: 65% !important;
		float: right;
		border: none !important;
	}
	
	.Next_btn {
		width: 100%;
		height: 45px;
		font-weight: 700;
		background-color: #389FE4;
		border: 1px solid #389FE4;
		color: #fff;
	}
	
	.Information_list {
		line-height: 40px;
	}
	
	.Foot_div {
		height: 50px;
		width: 100%;
	}
</style>

<body>
	<header class="mui-bar mui-bar-nav mui-header-nav">
		<a class="mui-action-back mui-pull-left mui-fanhui mui-icon mui-icon-arrowleft"></a>
		<h1 class="mui-title">发货</h1>
	</header>
	<!--头部导航-->
	<div class="mui_main">
		<div class="Customer search_height">
			<span style="color: red;" class="Information_list">*</span>&nbsp;<span class="Information_list">选择仓库</span>
			<button id='showWarehousePicker' class="Btn_top_one" type='button'>选择仓库按时打算大神的</button>

		</div>
		<div class="target search_height">
			<span style="color: red;" class="Information_list">*</span class="Information_list">&nbsp;<span>目标客户</span>
			<button id='showCustomerPicker' class="Btn_top_one" type='button'>选择客户</button>
		</div>
		<div class="Customer search_height">
			<span class="Information_list">&nbsp;</span>&nbsp;<span class="Information_list">客户地址</span>
			<input type="text" class="Customer_address" id="address"/>
		</div>
		<div class="logistics search_height">
			<span class="Information_list">&nbsp;</span>&nbsp;<span class="Information_list">物流公司</span>
			<button id='showLgcompanyPicker' class="Btn_top_one " type='button'>选择物流</button>
			<div id='userResultl' class="ui-alert"></div>
		</div>
		<div class="Customer search_height">
			<span class="Information_list">&nbsp;</span>&nbsp;<span class="Information_list">车辆信息</span>
			<input type="text" class="Customer_address" id='vehicle' value=""/>
		</div>
		<div class="Customer search_height">
			<span class="Information_list">&nbsp;</span>&nbsp;<span class="Information_list">司机</span>
			<input type="text" class="Customer_address" id='driver'/>
		</div>
		<div class="Customer search_height">
			<button type="button" class="Next_btn" value="下一步">下一步</button>
		</div>
		<div class="Foot_div"></div>
	</div>
	<script type="text/javascript" src="js/city.data.js"></script>
	<script type="text/javascript" src="js/mui.picker.all.js"></script>
	<script type="text/javascript" src="js/mui.picker.js"></script>
	<script type="text/javascript" src="js/jquery-2.1.4.min.js" ></script>
	<script>
	
/*	var base = {
		"path":"http://192.168.0.172:8081/platformGUI/",
		"done":".app "
		}
	
		$.ajax({
			  type:"get",
			  url:base.path+"test"+base.done,
			  dataType:"json",
			  success:function(data){
			     console.log(data)
			  }
		});
		*/
		(function($, doc) {
			$.init();
			$.ready(function() {
				//普通示例
				var warehousePicker = new $.PopPicker();
				
				mui.ajax({
						url:"JSON/warehouse.json",
						dataType:"json",
						success: function(data){
						
						var obj=data
						var arr=[];
						for(i=0;i<data.warehouse.length;i++){
							var txt=data.warehouse[i].name
 							arr.push(txt)
						}
							warehousePicker.setData(arr);
							showWarehousePickerButton.addEventListener('tap', function(event) {
							warehousePicker.show(function(items) {
								showWarehousePicker.innerText = items[0];
								var name=items[0];
								for(j=0;j<obj.warehouse.length;j++){
								if(name==obj.warehouse[j].name){
									document.getElementById("address").value=obj.warehouse[j].address;
								
								}
							}
					});
				}, false);
						},error:function(xhr,type,errorThrown){
							//异常处理；
							console.log();
						}
					})	
				var showWarehousePickerButton = doc.getElementById('showWarehousePicker');
			});
		})(mui, document);
		
		(function($, doc) {
			$.init();
			$.ready(function() {
				//普通示例
				var CustomerPicker = new $.PopPicker();
				mui.ajax({
						url:"JSON/client.json",
						dataType:"json",
						success: function(data){
						
						var obj=data
						var arr=[];
						for(i=0;i<data.client.length;i++){
							var txt=data.client[i].name
 							arr.push(txt)
						}
							CustomerPicker.setData(arr);
							showCustomerPickerButton.addEventListener('tap', function(event) {
							CustomerPicker.show(function(items) {
								showCustomerPicker.innerText = items[0];
								var name=items[0];
								for(j=0;j<obj.client.length;j++){
								if(name==obj.client[j].name){
									document.getElementById("address").value=obj.client[j].address;
								
								}
							}
					});
				}, false);
						},error:function(xhr,type,errorThrown){
							//异常处理；
							console.log();
						}
					})	
				var showCustomerPickerButton = doc.getElementById('showCustomerPicker');
			});
		})(mui, document);

		(function($, doc) {
			$.init();
			$.ready(function() {

 				var obj;
				var LgcompanyPicker = new $.PopPicker();
				mui.ajax({
						url:"JSON/logistics.json",
						dataType:"json",
						success: function(data){
						
						var obj=data
						var arr=[];
						for(i=0;i<data.logistics.length;i++){
							var txt=data.logistics[i].name
 							arr.push(txt)
						}
							LgcompanyPicker.setData(arr);
							showLgcompanyPickerButton.addEventListener('tap', function(event) {
							LgcompanyPicker.show(function(items) {
								showLgcompanyPicker.innerText = items[0];
								var name=items[0];
								for(j=0;j<obj.logistics.length;j++){
								if(name==obj.logistics[j].name){
									var vehicle=obj.logistics[j].vehicle;
									var driver=obj.logistics[j].driver;
									document.getElementById("vehicle").value=vehicle
									document.getElementById("driver").value=driver
								}
							}
					});
				}, false);
						},error:function(xhr,type,errorThrown){
							//异常处理；
							console.log();
						}
					})	
				var showLgcompanyPickerButton = doc.getElementById('showLgcompanyPicker');
				
			});
		})(mui, document);
		
	
	</script>
	<!--选择物流-->
</body>
</html>